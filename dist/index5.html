<!DOCTYPE html>
<html lang="en" class="no-js">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Liquid Distortion Effects | Demo 5 | Codrops</title>
	<meta name="description" content="Some liquid distortion effects applied to an image slideshow using canvas, PixiJS and Greensock" />
	<meta name="keywords" content="web development, canvas, distortion, liquid, effect, slideshow, javascript" />
	<meta name="author" content="Yannis Yannakopoulos for Codrops" />
	<link rel="shortcut icon" href="favicon.ico">
	<link rel="stylesheet" type="text/css" href="css/normalize.css" />
	<link rel="stylesheet" type="text/css" href="css/demo.css" />
	<link rel="stylesheet" type="text/css" href="css/component.css" />
	<script>
		document.documentElement.className = 'js';
	</script>
</head>

<body class="demo-5 loading">
	<svg class="hidden">

		<symbol id="icon-arrow-nav" viewBox="208.3 352 4.2 6.4">
			<title>arrow-nav</title>
			<polygon points="212.1,357.3 211.5,358 208.7,355.1 211.5,352.3 212.1,353 209.9,355.1"></polygon>
		</symbol>
	</svg>
	<main class="site-wrapper">
		<div class="content content--fixed">
			<header class="codrops-header">
				<h1 class="codrops-header__title">Liquid Distortion Effects</h1>
			</header>
		</div>
		<div class="content">
			<div class="slide-wrapper">
				<div class="slide-item">
					<img src="img/16.jpg" class="slide-item__image">
				</div>
				<div class="slide-item">
					<img src="img/17.jpg" class="slide-item__image">
				</div>
				<div class="slide-item">
					<img src="img/18.jpg" class="slide-item__image">
				</div>
			</div>
			<button class="scene-nav scene-nav--prev" data-nav="previous"><svg class="icon icon--arrow-nav-prev">
					<use xlink:href="#icon-arrow-nav"></use>
				</svg></button>
			<button class="scene-nav scene-nav--next" data-nav="next"><svg class="icon icon--arrow-nav-next">
					<use xlink:href="#icon-arrow-nav"></use>
				</svg></button>
		</div>
	</main>
	<script src="js/demo.js"></script>
	<script src="lib/pixi.min.js"></script>
	<script src="lib/tweenMax.min.js"></script>
	<script src="js/main5.js"></script>
	<script src="lib/imagesloaded.pkgd.min.js"></script>
	<script>
		imagesLoaded(document.body, () => document.body.classList.remove('loading'));

		var spriteImages = document.querySelectorAll('.slide-item__image');
		var spriteImagesSrc = [];
		var texts = [];

		for (var i = 0; i < spriteImages.length; i++) {
			var img = spriteImages[i];
			// Set the texts you want to display to each slide 
			// in a sibling element of your image and edit accordingly
			if (img.nextElementSibling) {
				texts.push(img.nextElementSibling.innerHTML);
			} else {
				texts.push('');
			}
			spriteImagesSrc.push(img.getAttribute('src'));
		}

		var initCanvasSlideshow = new CanvasSlideshow({
			sprites: spriteImagesSrc,
			displacementImage: 'img/dmaps/2048x2048/clouds.jpg',
			autoPlay: true,
			autoPlaySpeed: [4, 3],
			displaceScale: [5000, 10000],
			interactive: true,
			interactionEvent: 'click', // 'click', 'hover', 'both' 
			displaceAutoFit: false,
			dispatchPointerOver: true // restarts pointerover event after click 
		});
	</script>
</body>

</html>